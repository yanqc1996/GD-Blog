<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>原型与原型链 | 阿毛心怀宇宙</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/newBlog/login.png">
    <link rel="stylesheet" href="/newBlog/live2dModels/live2d/css/common.css">
    <script type="text/javascript" src="/newBlog/live2dModels/live2d/js/live2d.js"></script>
    <script type="text/javascript" src="/newBlog/live2dModels/live2d/js/init.js"></script>
    <meta name="description" content="阿毛的前端记录（项目参照整改中）">
    <link rel="preload" href="/newBlog/assets/css/0.styles.758bbff2.css" as="style"><link rel="preload" href="/newBlog/assets/js/app.2eb2d2fa.js" as="script"><link rel="preload" href="/newBlog/assets/js/2.58a344da.js" as="script"><link rel="preload" href="/newBlog/assets/js/12.586e00cd.js" as="script"><link rel="prefetch" href="/newBlog/assets/js/10.6da1e2ae.js"><link rel="prefetch" href="/newBlog/assets/js/11.f815f7e7.js"><link rel="prefetch" href="/newBlog/assets/js/13.551580d3.js"><link rel="prefetch" href="/newBlog/assets/js/14.9263341d.js"><link rel="prefetch" href="/newBlog/assets/js/15.38c6d013.js"><link rel="prefetch" href="/newBlog/assets/js/16.a507af76.js"><link rel="prefetch" href="/newBlog/assets/js/17.cb6dc702.js"><link rel="prefetch" href="/newBlog/assets/js/18.20463afa.js"><link rel="prefetch" href="/newBlog/assets/js/19.2450231d.js"><link rel="prefetch" href="/newBlog/assets/js/20.c41e409c.js"><link rel="prefetch" href="/newBlog/assets/js/3.88adac7e.js"><link rel="prefetch" href="/newBlog/assets/js/4.33cfba18.js"><link rel="prefetch" href="/newBlog/assets/js/5.caaa643f.js"><link rel="prefetch" href="/newBlog/assets/js/6.cc4e8ad0.js"><link rel="prefetch" href="/newBlog/assets/js/7.f524fc69.js"><link rel="prefetch" href="/newBlog/assets/js/8.aa9db6c6.js"><link rel="prefetch" href="/newBlog/assets/js/9.a9998120.js">
    <link rel="stylesheet" href="/newBlog/assets/css/0.styles.758bbff2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/newBlog/" class="home-link router-link-active"><img src="/newBlog/login.png" alt="阿毛心怀宇宙" class="logo"> <span class="site-name can-hide">阿毛心怀宇宙</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/newBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/newBlog/pages/develop-node/test1.html" class="nav-link">
  开发笔记
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/project-tools/test5.html" class="nav-link">
  项目常用工具
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/vue-node/vue生命周期详解.html" class="nav-link">
  Vue学习
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/react-node/React概括.html" class="nav-link">
  react学习
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/yanqc1996/newBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/newBlog/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/newBlog/pages/develop-node/test1.html" class="nav-link">
  开发笔记
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/project-tools/test5.html" class="nav-link">
  项目常用工具
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/vue-node/vue生命周期详解.html" class="nav-link">
  Vue学习
</a></li><li class="dropdown-item"><!----> <a href="/newBlog/pages/react-node/React概括.html" class="nav-link">
  react学习
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/yanqc1996/newBlog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>开发笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/newBlog/pages/develop-node/array-dedup.html" class="sidebar-link">数组去重探究</a></li><li><a href="/newBlog/pages/develop-node/js-points.html" class="sidebar-link">js知识点整理</a></li><li><a href="/newBlog/pages/develop-node/svg-point.html" class="sidebar-link">svg基础知识</a></li><li><a href="/newBlog/pages/develop-node/原型与原型链.html" class="active sidebar-link">原型与原型链</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/newBlog/pages/develop-node/原型与原型链.html#什么是原型？" class="sidebar-link">什么是原型？</a></li><li class="sidebar-sub-header"><a href="/newBlog/pages/develop-node/原型与原型链.html#什么是原型链？" class="sidebar-link">什么是原型链？</a></li><li class="sidebar-sub-header"><a href="/newBlog/pages/develop-node/原型与原型链.html#补全思维流程图" class="sidebar-link">补全思维流程图</a></li><li class="sidebar-sub-header"><a href="/newBlog/pages/develop-node/原型与原型链.html#学以致用：" class="sidebar-link">学以致用：</a></li><li class="sidebar-sub-header"><a href="/newBlog/pages/develop-node/原型与原型链.html#反向拓展：" class="sidebar-link">反向拓展：</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="原型与原型链"><a href="#原型与原型链" class="header-anchor">#</a> 原型与原型链</h1> <p><a name="jHcdp"></a></p> <h2 id="什么是原型？"><a href="#什么是原型？" class="header-anchor">#</a> 什么是原型？</h2> <p><strong>原型：每个JS对象（null除外）在创建的时候都会有一个与之关联的对象，这个对象就是我们所说的原型，每个对象都会从原型继承属性，我们通过实例对象的__proto__来查找它的原型。</strong><br>要理解什么是原型，首先要理解，原型的作用是为了共享多个对象之间的一些共有特性（属性或方法）<br>例如我们创建两个不同的数组，不同数组有不同的内容和长度，这是每个数组实例私有的属性，但是不同的数组却都可以使用push等方法，这些公共方法就是从原型中就继承的。我们可以在控制台打印不同数组的push方法，发现它们是严格相等的，因此可以确定，这个方法是从同一个原型（同一个内存地址）中获取得到的。
<a name="zq15q"></a></p> <h4 id="举个栗子："><a href="#举个栗子：" class="header-anchor">#</a> 举个栗子：</h4> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> test<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Test</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Test</span><span class="token punctuation">.</span>prototype<span class="token operator">===</span>test<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>控制台输出：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591781365967-6ac9787d-eb00-4b68-a48c-1a3da9009c23.png#align=left&amp;display=inline&amp;height=172&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=344&amp;originWidth=930&amp;size=56913&amp;status=done&amp;style=none&amp;width=465" alt="image.png"><br>我们根据创造函数创造出一个实例对象，实例对象的<code>__proto__</code>属性指向的就是它的原型对象，同时我们输出构造函数的<code>prototype</code>属性，可以发现<code>Test.prototype</code>和<code>test.__proto__</code>是严格的，根据以上的关系，可以先得出以下的思维关系图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591839838873-2a47dde8-b95f-4ead-8500-d706c06d547f.png#align=left&amp;display=inline&amp;height=285&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=400&amp;originWidth=982&amp;size=81403&amp;status=done&amp;style=none&amp;width=700" alt="image.png"><br>根据控制台输出可以发现，在原型对象<code>Test.prototype</code>中存在constructor属性，我们称之为构造器。这个属性用于构建函数对象，该属性返回对创建此对象的函数对象的引用。同时考虑到实例test也是有函数Test构建的对象，因此我们在控制台输出：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Test</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token comment">//f Test()</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token comment">//f Test()</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>补全思维关系图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591782188627-284743ea-d48f-4361-95c9-17e8b5cd6e71.png#align=left&amp;display=inline&amp;height=363&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=568&amp;originWidth=1096&amp;size=149576&amp;status=done&amp;style=none&amp;width=700" alt="image.png"><br>以上我们完成了一个简单原型的概念闭环。
<a name="vIrZA"></a></p> <h2 id="什么是原型链？"><a href="#什么是原型链？" class="header-anchor">#</a> 什么是原型链？</h2> <p>我们再回顾一边原型的概念：<br><strong>每个JS对象（null除外）在创建的时候都会有一个与之关联的对象，这个对象就是我们所说的原型，每个对象都会从原型继承属性。</strong></p> <p>对照以上思维图，我们发现，既然根据Tset函数创建的实例有原型，那Test函数实际上也是某个函数创建的实例对象，是不是也应该有原型呢？而test实例的原型<code>Test.prototype</code>本质上是一个对象，它是不是也应该有原型呢？
<a name="Uo85v"></a></p> <h3 id="先来讲test-prototype这边"><a href="#先来讲test-prototype这边" class="header-anchor">#</a> 先来讲Test.prototype这边</h3> <p>毫无疑问，<code>Test.prototype</code>是有原型的，我们通过<code>Test.prototype.__proto__</code>可以获取到其原型，同时我们可以看到该原型的constructor是JS内建对象Object<br>此处先补充JS内建对象的一些概念：JS有5种基础的内建对象：<code>Object</code>、<code>Function</code>、<code>Error</code>、<code>Symbol</code>、<code>Boolean</code>，而<code>Object</code>/<code>Function</code>尤为特殊，是定义其他内建对象或者普通对象和方法基础。<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591786612963-d13d9cdd-d3a7-4425-8c2a-0fd6334a4c53.png#align=left&amp;display=inline&amp;height=264&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=528&amp;originWidth=928&amp;size=135044&amp;status=done&amp;style=none&amp;width=464" alt="image.png"><br>根据这个再补充思维关系图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591782994044-71a6df57-c172-4cf8-8b26-95d815d22ab6.png#align=left&amp;display=inline&amp;height=400&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=844&amp;originWidth=1478&amp;size=246219&amp;status=done&amp;style=none&amp;width=700" alt="image.png"><br>然后根据这一步接着深入，那么test实例的原型的原型存不存在原型呢？我们再回顾下之前关于内建对象的定义：JS中的其他内建对象或者普通对象和方法都是由内建对象<code>Object</code>定义的，如果<code>Object.prototype</code>存在原型，那么这个原型是由什么创建的呢？只能是<code>Object</code>，这就失去了原型的意义，因此<code>Object.propotype.__proto__</code>为null（个人理解，后续考虑从内建对象原理来进行分析），补充思维导图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591783563638-a89e583f-d97e-49ad-b551-5ec30d3fcaa6.png#align=left&amp;display=inline&amp;height=295&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=624&amp;originWidth=1480&amp;size=177948&amp;status=done&amp;style=none&amp;width=700" alt="image.png"><br>我们结合以上思维导图和原型的概念，可以得出以下原型链的概念：<br><strong>原型链：当我们查找对象的属性或方法时，如果在当前对象中找不到定义，会继续在当前对象的原型对象中查找，如果在原型对象中依然没有找到，则会继续在原型对象的原型中进行查找，直到找到为止，如果查到最顶层的原型对象中依然没有找到，则结束查找，返回undefined，每个对象都有一个到它自身原型对象的链接，这些链接组件的整个链条就是原型链。</strong><br></p> <p><a name="SQpzb"></a></p> <h3 id="构造函数test这边"><a href="#构造函数test这边" class="header-anchor">#</a> 构造函数Test这边</h3> <p>我们首先输出Test函数的原型和原型的构造函数：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Test<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Test<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>输出：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591787364190-ad53124a-6d5a-4070-a961-82a4c5dc6091.png#align=left&amp;display=inline&amp;height=44&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=88&amp;originWidth=898&amp;size=22371&amp;status=done&amp;style=none&amp;width=449" alt="image.png"><br>可以看到，构造函数的原型是一个内置函数，而原型的构造函数是JS内建对象Function，补全思维图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591841554342-b63a1081-63a5-4e59-a7f0-b4c80ee53aea.png#align=left&amp;display=inline&amp;height=468&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=936&amp;originWidth=1570&amp;size=256265&amp;status=done&amp;style=none&amp;width=785" alt="image.png"><br>我们继续获取获取到的内置函数的原型：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Test<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Test<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591787922149-94a3bdbb-0d44-456a-b844-56d2f1335464.png#align=left&amp;display=inline&amp;height=71&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=142&amp;originWidth=894&amp;size=35130&amp;status=done&amp;style=none&amp;width=447" alt="image.png"><br>根据输出，补全思维图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591841911702-c705c86f-239d-48b6-8f89-1c30fce7a66a.png#align=left&amp;display=inline&amp;height=495&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=990&amp;originWidth=1510&amp;size=272053&amp;status=done&amp;style=none&amp;width=755" alt="image.png"><br>这样，我们就把整个流程图实现闭环。
<a name="YhXIo"></a></p> <h2 id="补全思维流程图"><a href="#补全思维流程图" class="header-anchor">#</a> 补全思维流程图</h2> <p>我们继续看上述的流程图，它真的完整了吗？<br>实例test是否有<code>prototype</code>?<br>内建对象<code>Function</code>的原型？<br>内建对象<code>Object</code>的原型？<br>内置函数f()的<code>prototype</code>是什么？<br><code>Test</code>,<code>Object</code>,<code>Function</code>的<code>constructor</code>是什么？<br>我们在控制台中进行打印：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>test<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Test</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591844013515-4cddd495-10dd-46ba-90b0-9d9bd4932ac6.png#align=left&amp;display=inline&amp;height=143&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=286&amp;originWidth=914&amp;size=68299&amp;status=done&amp;style=none&amp;width=457" alt="image.png"><br>由此可知：<code>__proto__</code>存在于所有实例对象（null除外）中，这个结论正好契合了原型的概念，而<code>prototype</code>存在于函数对象中<br>同时补全思维流程图：<br><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591841953784-8c5de968-3edc-49ee-bab7-90e587a05e20.png#align=left&amp;display=inline&amp;height=467&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=934&amp;originWidth=1440&amp;size=281619&amp;status=done&amp;style=none&amp;width=720" alt="image.png"> <a name="ffDfc"></a></p> <h2 id="学以致用："><a href="#学以致用：" class="header-anchor">#</a> 学以致用：</h2> <p>根据以上的流程图，我们对原型和原型链应该有了一些基础的理解，尝试一下以下题目：
<a name="LG8BV"></a></p> <h3 id="_1-原型与原型链中的流程关系"><a href="#_1-原型与原型链中的流程关系" class="header-anchor">#</a> 1.原型与原型链中的流程关系</h3> <p>（参照思维导图即可完成）</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'king'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//实例对象的__proto__指向的是它的原型，即它的构造函数的prototype:Person.prototype，</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//即Person.prototype.__proto__,Person.prototype本身是一个对象，因此输出为：Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//即Object.prototype的__proto__，输出为：null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//null并没有原型，因此报错</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
<span class="token comment">//Person</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p2<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">//undefined p2是实例对象，不是函数对象，没有prototype属性</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
<span class="token comment">//Function</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token comment">//Person.prototype这个对象里所有的方法和属性</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span>
<span class="token comment">//Person</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//Person.prototype是对象，所以输出：Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Person<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//Function.prototype</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//Function.prototype</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//Function.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>
<span class="token comment">//null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><p><a name="QfnUW"></a></p> <h3 id="_2-原型链查找"><a href="#_2-原型链查找" class="header-anchor">#</a> 2.原型链查找</h3> <p>根据原型链的概念：如果在当前对象中找不到定义，会继续在当前对象的原型对象中查找。那如果在当前的实例对象中存在这个属性或方法的定义，而在实例的原型中也存在，是否只会查找当前实例中的方法，找到之后就停止了查找？我们来看以下的例题：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">100</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">200</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getX</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token string">'inner'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getX</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getY</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Fn<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>getX<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>getY<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591792291017-9c310793-a112-4026-a7f8-f090d838f619.png#align=left&amp;display=inline&amp;height=240&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=480&amp;originWidth=928&amp;size=74635&amp;status=done&amp;style=none&amp;width=464" alt="image.png"><br>因此可以看到，如果实例对象内部有该属性，调用的时候会调用实例对象的属性，可以理解既然已经找到该属性，那么对于该属性的后续查找自然也就不存在了。<br>我们对上述的例题进行拓展：</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getX</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getX</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getY</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>getX <span class="token operator">===</span> f2<span class="token punctuation">.</span>getX<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//fasle,因实例内部有该属性，因此getX是实例的私有属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>getY <span class="token operator">===</span> f2<span class="token punctuation">.</span>getY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//true，都是从相同的堆内存Fn.prototype中获得的方法</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>getY <span class="token operator">===</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//ture，f1.__proto__===Fn.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>getX <span class="token operator">===</span> f2<span class="token punctuation">.</span>getX<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//fasle,前者为undefined（this指向问题），后者为100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>getX <span class="token operator">===</span> <span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getX<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//false，和上述一致</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Fn</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Object</span>
f1<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//100</span>
f1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//undefined</span>
f2<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//200</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//undefined</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><p><a name="Q7s6H"></a></p> <h2 id="反向拓展："><a href="#反向拓展：" class="header-anchor">#</a> 反向拓展：</h2> <p><img src="https://cdn.nlark.com/yuque/0/2020/png/326402/1591844143397-b3373ec8-061d-4323-a676-68dd0cabdec8.png#align=left&amp;display=inline&amp;height=473&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=946&amp;originWidth=1676&amp;size=295324&amp;status=done&amp;style=none&amp;width=838" alt="image.png"><br>我们再回过头来看这个思维图，我们从底层的实例test开始，通过原型链一步步晚上到顶层的Object，那我们能不能考虑从顶层的Object开始，一步步实现一个实例test呢？同时对于顶层的内建对象，我们是不是还有些一知半解的地方：<br>1.为什么Function，Object，构造函数Test的原型都是Function.prototype?<br>2.为什么Function.<strong>proto</strong>===Function.prototype?<br>3.为什么Function.prototype是一个函数，但是打印Function.prototype.prototype却是undefined？<br>带着这些问题，我们下一篇从JS内建对象开始对原型和原型链再进行一些扩展。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/newBlog/pages/develop-node/svg-point.html" class="prev">
        svg基础知识
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/newBlog/assets/js/app.2eb2d2fa.js" defer></script><script src="/newBlog/assets/js/2.58a344da.js" defer></script><script src="/newBlog/assets/js/12.586e00cd.js" defer></script>
  </body>
</html>
